name: Build and deploy to GitHub Pages

on:
  push:
    branches: [main]  # –ó–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏ –ø—É—à–µ –≤ –≤–µ—Ç–∫—É main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest  # –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ (ubuntu)

    steps:
      # –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
      - name: Checkout repository üõéÔ∏è
        uses: actions/checkout@v2.3.1

      # –®–∞–≥ 2: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å—Ç—Ä–æ–∏–º –ø—Ä–æ–µ–∫—Ç
      - name: Install dependencies and build üîß
        run: |
          npm install
          npm run build

      # –®–∞–≥ 3: –î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages
      - name: Deploy to GitHub Pages üöÄ
        uses: JamesIves/github-pages-deploy-action@4.1.0
        with:
          branch: gh-pages  # –î–µ–ø–ª–æ–π –Ω–∞ –≤–µ—Ç–∫—É gh-pages
          folder: dist  # –£–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–ø–∫—É, –∫—É–¥–∞ –±–∏–ª–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç
          token: ${{ secrets.GHTOKEN }}  # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ–∫—Ä–µ—Ç —Å —Ç–æ–∫–µ–Ω–æ–º
